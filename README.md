
# Petition Service

  

## Описание

  

Данный микросервис разработан для работы с петициями в рамках системы "Умный город". Он предоставляет API для выполнения CRUD операций с петициями, а также реализует логику работы с фотографиями, прикрепленными к петициям. Микросервис также формирует различные виды статистики на основе имеющихся данных, что позволяет администраторам и пользователям получать полезную информацию о петициях.

  

## Основные возможности

  

-  **CRUD операции с петициями**:

- Создание новых петиций

- Получение информации о существующих петициях

- Обновление статуса петиции

  

-  **Работа с фотографиями**:

- Загрузка и привязка фотографий к петициям

- Получение фотографий, прикрепленных к петициям

  

-  **Статистика**:

- Генерация отчетов по петициям

- Анализ данных по регионам и городам

  

## Технологии

  

-  **Язык программирования**: Python

-  **Web-фреймворк**: FastAPI

-  **База данных**: PostgreSQL

-  **Документация API**: OpenAPI (Swagger)

-  **Работа с БД**: AsyncPG

  

## Запуск при помощи Docker Compose

  

Для удобного запуска микросервиса с использованием Docker Compose выполните следующие шаги:

  

1.  **Клонируйте репозиторий**:

```bash

git clone https://github.com/Saveliy19/PetitionService

cd PetitionService

```

  

2.  **Настройте переменные окружения**:

Создайте файл `.env` в корневой директории проекта и укажите необходимые переменные окружения, такие как параметры подключения к базе данных. Пример содержания файла `.env`:

```

#postgres

DB_HOST=pg_db
PORT=5432
POSTGRES_USER=
POSTGRES_DB=petition_service
POSTGRES_PASSWORD=

#photos
PHOTOS_DIRECTORY=/petition_service/photos

#redis
REDIS_HOST=
REDIS_PORT=
REDIS_PASSWORD=

```

  

3.  **Запустите Docker Compose**:

Убедитесь, что у вас установлен Docker и Docker Compose. Затем выполните команду:

```bash

docker-compose up

```

  

4.  **Проверьте работу приложения**:

После успешного запуска, вы можете получить доступ к API по адресу:

```

http://localhost:8000/docs

```

Здесь вы найдете документацию OpenAPI (Swagger) для тестирования доступных эндпоинтов.

  

5.  **Остановка приложения**:

Чтобы остановить приложение, нажмите `CTRL+C` в терминале, где работает Docker Compose, или выполните команду:

```bash

docker-compose down

```
